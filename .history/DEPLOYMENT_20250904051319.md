# 视频录制工具部署指南

## 🌐 GitHub Pages + 云服务器方案

### 方案概述
- **前端**: GitHub Pages (https://video2speech.github.io)
- **后端**: 云服务器 (Vercel/Railway/Render)

## 📋 部署步骤

### 1. 前端部署 (GitHub Pages)
前端已经部署在 https://video2speech.github.io，支持：
- 直接下载模式
- 本地存储模式 (IndexedDB)
- 服务器上传模式

### 2. 后端部署选项

#### 选项A: Vercel (推荐)
1. 访问 [vercel.com](https://vercel.com)
2. 使用GitHub账号登录
3. 导入你的仓库
4. Vercel会自动检测到 `vercel.json` 配置
5. 部署完成后获得URL，如: `https://your-app.vercel.app`

#### 选项B: Railway
1. 访问 [railway.app](https://railway.app)
2. 连接GitHub仓库
3. 选择Node.js环境
4. 部署完成后获得URL

#### 选项C: Render
1. 访问 [render.com](https://render.com)
2. 创建新的Web Service
3. 连接GitHub仓库
4. 设置构建命令: `npm install`
5. 设置启动命令: `npm start`

### 3. 使用方法

部署完成后：
1. 访问 https://video2speech.github.io
2. 选择"上传到服务器"模式
3. 选择"自定义服务器地址"
4. 输入你的后端URL + `/upload`
   - 例如: `https://your-app.vercel.app/upload`
5. 开始录制和上传视频

## 🔧 本地开发

如果需要本地开发：

```bash
# 启动前端 (在项目根目录)
python3 -m http.server 8000

# 启动后端 (在另一个终端)
python3 simple_server.py
# 或者
npm install && npm start
```

## 🌍 CORS 配置

后端已配置CORS允许跨域请求，支持从 https://video2speech.github.io 访问。

## 📁 文件结构

```
video2speech.github.io/
├── index.html          # 前端页面
├── server.js           # Node.js后端
├── simple_server.py    # Python后端
├── package.json        # Node.js依赖
├── vercel.json         # Vercel配置
└── uploads/            # 上传文件目录
```

## 🔍 测试接口

部署完成后可以测试：

```bash
# 健康检查
curl https://your-app.vercel.app/health

# 查看视频列表
curl https://your-app.vercel.app/videos
```

## 💡 注意事项

1. **免费服务限制**: 大多数免费服务有文件大小和存储限制
2. **文件持久性**: Vercel等服务可能不会永久保存上传的文件
3. **域名CORS**: 确保后端允许从你的GitHub Pages域名访问
4. **HTTPS**: GitHub Pages使用HTTPS，后端也应该使用HTTPS

## 🚀 生产环境建议

对于生产环境，建议：
- 使用付费的云存储服务 (AWS S3, Google Cloud Storage)
- 配置CDN加速
- 添加用户认证
- 实现文件压缩和格式转换
- 添加数据库存储元数据
